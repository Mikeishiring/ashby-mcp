# =============================================================================
# Ashby Slack Bot Configuration
# =============================================================================
# Copy this file to .env and fill in your values

# -----------------------------------------------------------------------------
# REQUIRED: Core API Keys
# -----------------------------------------------------------------------------

# Slack Configuration
# Get from: https://api.slack.com/apps > Your App > OAuth & Permissions
SLACK_BOT_TOKEN=xoxb-your-bot-token
# Get from: https://api.slack.com/apps > Your App > Socket Mode > App Token
SLACK_APP_TOKEN=xapp-your-app-token
# Optional for Socket Mode, but recommended
SLACK_SIGNING_SECRET=your-signing-secret

# Anthropic/Claude Configuration
# Get from: https://console.anthropic.com/settings/keys
ANTHROPIC_API_KEY=sk-ant-your-api-key
# Model options: claude-sonnet-4-20250514 (recommended), claude-haiku-20250306 (cheaper)
ANTHROPIC_MODEL=claude-sonnet-4-20250514
ANTHROPIC_MAX_TOKENS=4096

# Ashby Configuration
# Get from: Ashby Admin > Settings > API Keys
ASHBY_API_KEY=your-ashby-api-key
ASHBY_BASE_URL=https://api.ashbyhq.com

# -----------------------------------------------------------------------------
# OPTIONAL: Safety & Behavior
# -----------------------------------------------------------------------------

# Safety mode: CONFIRM_ALL (all writes need confirmation) or BATCH_LIMIT
SAFETY_MODE=CONFIRM_ALL
# Maximum candidates per write operation (prevents accidental bulk changes)
BATCH_LIMIT=2
# How long to wait for confirmation before timing out (ms) - default 30 minutes
# Examples: 1800000 (30min), 3600000 (1hr), 86400000 (24hr)
CONFIRMATION_TIMEOUT_MS=1800000

# Stale candidate threshold (days in same stage before flagged)
STALE_DAYS=14

# -----------------------------------------------------------------------------
# OPTIONAL: Daily Summary
# -----------------------------------------------------------------------------

# Enable/disable daily pipeline summary
DAILY_SUMMARY_ENABLED=true
# Time to send summary (24hr format)
DAILY_SUMMARY_TIME=09:00
DAILY_SUMMARY_TIMEZONE=America/New_York
# Channel ID to post summary (right-click channel > View channel details > copy ID)
DAILY_SUMMARY_CHANNEL=C0123456789

# -----------------------------------------------------------------------------
# OPTIONAL: Pipeline Alerts
# -----------------------------------------------------------------------------

# Enable/disable pipeline health alerts
PIPELINE_ALERTS_ENABLED=false
PIPELINE_ALERTS_TIME=09:00
PIPELINE_ALERTS_TIMEZONE=America/New_York
PIPELINE_ALERTS_CHANNEL=C0123456789
# Alert thresholds
PIPELINE_ALERTS_STALE_THRESHOLD=3
PIPELINE_ALERTS_DECISION_THRESHOLD=2

# -----------------------------------------------------------------------------
# OPTIONAL: Proactive Blocker Alerts
# -----------------------------------------------------------------------------

# Enable/disable proactive candidate blocker detection
BLOCKER_ALERTS_ENABLED=false
# Cron expression for check frequency (default: every 4 hours)
# Examples: "0 */4 * * *" (every 4 hours), "0 9,14 * * *" (9am and 2pm)
BLOCKER_ALERTS_CRON=0 */4 * * *
# Channel to post blocker alerts
BLOCKER_ALERTS_CHANNEL=C0123456789
# Minimum severity to alert on: info, warning, critical
BLOCKER_ALERTS_MIN_SEVERITY=warning
# Whether to DM hiring managers about their candidates' blockers
BLOCKER_ALERTS_NOTIFY_HM=false
# Hours between re-alerting about the same blocker
BLOCKER_ALERTS_COOLDOWN_HOURS=8
